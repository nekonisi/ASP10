Day01-1
===

# 目的

ASP.NETの概念を覚える。

## サーバコントロール

- ツールボックスから使える部品
- ページデザインの為に使用する。

### プロパティ

- サーバコントロールの見かけや動作

#### プロパティの設定方法

- プロパティウィンドウから設定

### ID値

- プロパティの一種
- サーバコントロールを他のサーバコントロールと関連付ける。
- プログラムコードから呼び出す。

---

## イベントドリブンモデル

- [イベント]ボタンがクリックされたテキストボックスの内容が変更される等
をdriven(つまり、実行すべきコードを入力するプログラミングモデルのこと。

### イベントプロシージャ、イベントハンドラ

- 処理内容を記述するコード

### ASP.NETアプリケーションとWindowsアプリケーションの違い

- どちらもイベントドリブンモデルで作成されるが処理される場所が違う。
  - Windowsアプリケーション: クライアント側で発生する。
  - ASP.NETアプリケーション: サーバ側で処理される。

### ポストバック処理

	@startuml
	' 手書き風
		skinparam handwritten true
		
		' 役者
		actor Client
		node Server
		
		' 関係
		Client -right-> Server: 1. Request
		Server -left-> Client: 2. Response
	        Client -right-> Server: 3. Postback
	        Server -left-> Client: 4. 処理結果
	@enduml

![ポストバック処理](./img/Day01/001.png)

- 実行がサーバ-クライアント間を行き来することを*サーバーラウンドトリップ*という。
- イベント処理に関しては、自分自身を呼び出す。→ポストバック処理

### プロパティの指定方法

- プロパティの指定方法は二通り存在する。

#### プロパティウィンドウから指定する

- デザインビュー > コントロールをクリック > プロパティウィンドウで値を設定

#### ソースに記述

- ソース内に下記を記述する。
  - `コントロールID値.プロパティ名=設定値`

- ※ Pageやコントロールは、ひとつの*クラス*であることに注意する!

### aspxファイルの基本

#### ディレクティヴ

- ディレクティヴ: 実行エンジンに対してのページの処理方法を記述する。

##### 構文

	<%@ ディレクティブ名 属性名="属性値" ... @%>
	※ ページの先頭に記述する。

###### 例

	<%@ Page Title="" Language="VB" MasterPageFile="~/MasterPage.master" AutoEventWireup="false" CodeFile="Default.aspx.vb" Inherits="_Default" %>
	
#### サーバコントロール

##### 構文

	<asp:コントロール名 ID="ID名" runat="Server" プロパティ名="値"...></asp:コントロール名>

###### 例

	<asp:Content ID="Content1" ContentPlaceHolderID="head" Runat="Server">

###### 注意事項

- サーバコントロールは`<form runat="Server">~</form>`配下に記述すること！
  - `<form runat="Server">`はページ内に一つしか記述できないので注意すること！

### イベントとイベントハンドラの関連付け

#### 構文

	Onイベント名="イベントハンドラ名"

###### 解説

- サーバコントロールは、OnXxxx属性によって自分が発行したイベントとイベントハンドラとの関連を表している。

[TOPへ](./index.md)  
